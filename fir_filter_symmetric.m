%#codegen
function data_out = fir_filter_symmetric(data_in)
    coefficients = [0.00246005415668573	0.00457174755514296	0.00349607742805274	-0.00283442678718371	-0.0106959120509788	-0.0121008051067336	-0.00294266421848018	0.00983370955727971	0.0122166088333666	-0.00204985267697887	-0.0206086236107870	-0.0211040515554020	0.00434023140616176	0.0336656193958584	0.0308140793080029	-0.0151268160101917	-0.0655947949217216	-0.0551718335069373	0.0500778056525640	0.210215496826094	0.330033862763561	0.330033862763561	0.210215496826094	0.0500778056525640	-0.0551718335069373	-0.0655947949217216	-0.0151268160101917	0.0308140793080029	0.0336656193958584	0.00434023140616176	-0.0211040515554020	-0.0206086236107870	-0.00204985267697887	0.0122166088333666	0.00983370955727971	-0.00294266421848018	-0.0121008051067336	-0.0106959120509788	-0.00283442678718371	0.00349607742805274	0.00457174755514296	0.00246005415668573];
    number_of_taps = length(coefficients);

    persistent register;
    if isempty(register)
        register = zeros(1, number_of_taps);
    end

    register = [data_in, register(1:end-1)];

    accumulator = 0.0;

    for i = (number_of_taps/2):-1:1
        accumulator = accumulator ...
                        + coefficients(i) ...
                            * (register(i) + register(number_of_taps - 1 - i));
    end

    data_out = accumulator;
end